<app-header></app-header>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
      
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" routerLink = "/" href="#">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled " href="#" routerLink = "/getAll">Get all interns</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " href="" routerLink = "/uploadTests">Upload/Delete Test</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " href="#" routerLink = "/gradeTests" tabindex="-1" aria-disabled="true">Grade Tests</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " href="#" routerLink = "/allGradedTests" >Get All Graded Tests</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
<div class = "container">
    <div class = "mt-5 ">
   
            <div class="row">
                <div>
                    <h1 class = "col ml-5 mt-4 move"> {{intern.name}}'s Profile </h1>
                </div>
             
                <div class = "d-flex justify-content-end col mt-4" style = "height: 40px;">
                    <button class = " btn border-success "  routerLink = "/getAll">Go back to intern list</button>
                </div>
        </div>
    </div>
        <table class="table table-bordered border-primary mt-3">
            <thead>
                <tr>
                    
                    <th scope="col">Name</th>
                    <th scope="col">Id</th>
                    <th scope="col">Phonenumber</th>
                    <th scope="col">Citizenship Id</th>
                    <th scope="col">email</th>
                    
                </tr>
            </thead>
            <tbody>
                <tr>
                    
                    <td>{{intern.name}}</td>
                    <td>{{intern.id}}</td>
                    <td>{{intern.phonenumber}}</td>
                    <td>{{intern.citizenshipId}}</td>
                    <td>{{intern.email}}</td>
                   
                </tr>
            </tbody>
        </table>
<div *ngIf = "!show" class = "row">
    <table class="table table-bordered col-auto">
        <thead>
            <tr>
                
                <th scope="col">
                    Personal Details: 
                </th>
            </tr> 
            
        </thead>
        <tbody>
           
            <tr>
                <th scope="row">age</th>
                <td>{{intern.personalDetails.age}}</td> 
            </tr>
            <tr>
                <th scope="row">Country</th>
            <td>{{intern.personalDetails.country}}</td>
            </tr>
            <tr>
                <th scope="row">City</th>
            <td>{{intern.personalDetails.city}}</td> 
            </tr>
            <tr>
                <th scope="row">Year of Graduation</th>
                <td>{{intern.personalDetails.graduationYear}}</td> 
            </tr>
            <tr>
                <th scope="row">Institution</th>
                <td>{{intern.personalDetails.academicInstitution}}</td>
            </tr>
                
        </tbody>
    </table>
    <table class="table table-bordered col-auto">
        <thead>
            <tr>
                
                <th scope="col ">
                    Professional Details:  
                    
                </th>
            </tr> 
            
        </thead>
        <tbody>
            <tr>
                <th scope="row">Institution</th>
                <td>{{intern.professionalDetails.medicalInstitution}}</td>
            </tr>
            <tr>
                <th scope="row">Department</th>
                <td>{{intern.professionalDetails.department}}</td> 
            </tr>
            <tr>
                <th scope="row">Residency</th>
                <td>{{intern.professionalDetails.residency}}</td>
            </tr>
        
            <tr>
                <th scope="row">Years of residency</th>
                <td>{{intern.professionalDetails.yearsOfResidency}}</td> 
            </tr>
         
                
        </tbody>
    </table>
    <button class = "btn border-success m-3" (click)= "showTests()">Get test results</button>
  </div>
    
</div>
<div *ngIf = "show" class = " container">
    <button class = "btn border-success m-3" (click)= "showTests()">Go back to info</button>
<h2 class = "mt-5">Graded Tests</h2>
<table class="table  mx-3 ">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope = "col">Test Name</th>
      <th scope = "col">Test Id#</th>
      <th scope="col">Grade</th>
      <th scope="col">Get Test</th>
      
    </tr>
  </thead>
  
  <tbody>
    <tr *ngFor = "let test of tests; let i = index">
      <th scope="row">{{i+1}}</th>
      <td >{{test.name}}</td>
      <td >{{test.id}}</td>
      <td>{{test.grade}}</td>
      <td>
        <a href={{test.testUrl}} ><button class = "btn border-success">get test</button></a>  
          
      </td>
    
    </tr>
    
  </tbody>
</table> 
<h2 class = "mt-2 ml-3 mb-3">Test Average: <span class = "text-warning">{{testsAverage}}</span></h2>

</div>
